<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <style>
      * {
        box-sizing: border-box;
        -moz-box-sizing: border-box;
      }

      body {
        background-color: #fff;
        color: #444;
      }

      a {
        color: #08f;
      }

      #content {
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1;
        padding: 3em 0 0 0;
      }

      #c {
        position: absolute;
        left: 0;
        width: 100%;
        height: 100%;
      }

      body {
        display: flex;
        justify-content: center;
        padding: 48px;
        margin-top: -48px;
      }
      .container {
        width: 8.5in;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .box {
        padding: 16px;
        font-family: sans-serif;
      }
      .grid {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
      }
      .grid-item {
        position: relative;
        border: 1px solid black;
        width: calc(25% - 16px);
        height: 200px;
        box-shadow: 1px 2px 4px 0px rgba(0, 0, 0, 0.25);
        overflow: hidden;
      }
      .grid-item > div:nth-child(1) {
        width: 100%;
        height: 100%;
      }

      .step-number {
        position: absolute;
        padding: 8px;
        margin: 8px;
        border: 1px solid black;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: white;
        top: 0;
        left: 0;
      }

      .header {
        height: 128px;
        width: 100%;
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        align-items: center;
      }

      .logo {
        height: 100%;
        display: flex;
        align-items: center;
        padding: 32px;
        width: 33%;
      }

      .logo:last-of-type {
        justify-content: right;
      }

      .logo:first-of-type {
        justify-content: left;
      }

      .title {
        padding: 16px;
        font-family: sans-serif;
        flex-grow: 3;
        text-align: center;
        font-weight: 800;
        font-size: x-large;
      }

      .info-container {
        display: flex;
        flex-direction: row;
        gap: 8px;
        padding: 16px;
        font-family: sans-serif;
      }

      .space-between-stack-hor {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
      }
      @media print {
        /* Ensure the body and container take up the full page */
        body {
          margin: 0;
          padding: 0;
          display: block;
        }

        .container {
          width: 100%;
          max-width: none; /* Ensure it doesn't shrink */
          page-break-inside: avoid; /* Prevent breaking elements between pages */
        }

        .grid {
          display: flex;
          flex-wrap: wrap;
        }

        .grid-item {
          page-break-inside: avoid; /* Keep grid items together */
        }

        /* Prevent cutting off content */
        .box,
        .header,
        .info-container {
          page-break-after: avoid;
        }

        /* Make sure the canvas is visible */
        canvas {
          max-width: 100%;
          max-height: 100%;
        }

        /* Ensure colors are printed */
        * {
          -webkit-print-color-adjust: exact; /* Safari/Chrome */
          print-color-adjust: exact; /* Other browsers */
        }
      }
    </style>
  </head>

  <body>
    <canvas id="c"></canvas>

    <div class="container">
      <div class="header">
        <div class="logo" id="logo-left"></div>
        <div class="title" id="pdf-title"></div>
        <div class="logo" id="logo-right"></div>
      </div>
      <div class="space-between-stack-hor">
        <div class="info-container">
          <b>Pack Result:</b>
          <div id="pack-result"></div>
        </div>
        <div class="info-container">
          <b>Packed On:</b>
          <div id="packed-on-date"></div>
        </div>
      </div>
      <div class="info-container">
        <b>Container:</b>
        <div id="container-name"></div>
      </div>
      <div class="box"><b>Part List</b></div>
      <div class="grid" id="part-list"></div>
      <div class="box"><b>Packing Instructions</b></div>
      <div class="grid" id="instruction-steps"></div>
    </div>

    <script type="importmap">
      {
        "imports": {
          "three": "./node_modules/three/build/three.module.js"
        }
      }
    </script>

    <script type="module">
      import { InitScene } from "./src/index.js";
      window.InitScene();
    </script>
  </body>
</html>
